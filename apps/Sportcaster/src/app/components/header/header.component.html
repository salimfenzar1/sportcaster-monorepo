<header class="header bg-light shadow-sm">
  <nav class="navbar navbar-expand-lg navbar-light container">
    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="assets/weather-logo.png" alt="Sportcaster Logo" class="logo mr-2" />
      <span class="brand-name">Sportcaster</span>
    </a>

    <!-- Toggler voor mobiel -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarContent"
      aria-controls="navbarContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Menu items -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <!-- Login / Register / Profiel -->
      <div class="ms-auto d-flex align-items-center">
        <!-- Niet ingelogd -->
        <div *ngIf="!isLoggedIn(); else loggedIn">
          <a routerLink="/login" class="btn btn-outline-primary me-2 wideButton">
            <i class="bi bi-box-arrow-in-right"></i> Login
          </a>
          <a routerLink="/register" class="btn btn-primary wideButton">
            <i class="bi bi-person-plus"></i> Registreer
          </a>
        </div>

        <!-- Ingelogd -->
        <ng-template #loggedIn>
          <div class="dropdown">
            <a
              class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle"
              id="userDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              role="button"
            >
              <span class="fw-bold text-primary text-truncate" style="max-width: 150px;">
                {{ username }} 
              </span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              <li>
                <a class="dropdown-item" routerLink="/user/details">
                  <i class="bi bi-person-fill me-2"></i>Profiel
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/preferences">
                  <i class="bi bi-heart-fill me-2"></i>Voorkeuren
                </a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li>
                <button class="dropdown-item text-danger" (click)="logout()">
                  <i class="bi bi-box-arrow-right me-2"></i>Logout
                </button>
              </li>
            </ul>
          </div>
        </ng-template>
      </div>
    </div>
  </nav>
</header>
